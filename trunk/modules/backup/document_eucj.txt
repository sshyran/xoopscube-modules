MyX_BackUp

XOOPSのデータベースをバックアップするためのモジュールです。
インストールは通常のモジュールと同様、操作は全て管理画面で行います。
インストール時に、ディレクトリ名は自由に決める（変更する）ことができます。
セキュリティ強化の配慮から、ディレクトリ名を変更しておくことを推奨します。

【バージョン履歴】
1.10RC	モジュール毎でのバックアップ取得機能を追加、内部ルーチン整理
1.02	マイナー修正
1.01	Duplicatable V3のデータベーステーブルに対応 （擬似的）
1.00	正式リリース　（以降、ライセンスはGPLとはしません）
	改行コードのLF統一、一部コードの見直し
0.93	AdminMenuの整備、管理画面の一部修正
0.92	Noticeエラーの抑制（モジュール毎のテーブル情報取得関連の見直し）
0.91	ダンプ・エクスポートの機能追加
	バックアップのINSERTにおけるVALUEのデータ型による処理機能追加
	一般設定画面追加
0.90	初出

【レポート】
XOOPSで使用しているデータベーステーブルの一覧表を表示します。
表示するだけで何もしませんが、レコード数や容量等を確認できます。

【最適化】
XOOPSデータベースのテーブルを最適化します。
使用しているうちに空領域が増えてくると無駄でもあり、速度低下になることもありますので、時々最適化を行うと良いでしょう。

【テーブルチェック】
SQLサーバ上でテーブルが破損しているかどうかを確認し、破損している場合は修復のコマンドを送るものです。
ごくごくたまにテーブル破損は生じることがあり、XOOPSの動作にも影響することがあります。
修復により、この問題が解消されることがあります。

【テーブル整理】
XOOPSのデータベーステーブルのうち、使われていないものを選び出し、これらの削除を行います。
アンインストールがうまくいかなかった時に、新たに再インストールする際、テーブルが既に存在しているために実行できないことがあります。
主にこの問題を解決することができます。
※一部の複製可能モジュール等では、必要なテーブルが不要として誤判定される可能性があります。

【バックアップ】
XOOPSのデータベースから復元用のSQLテキストをモジュール毎に生成し、それらをZIP圧縮ファイル形式でダウンロードします。
ダウンロードファイルを解凍するとモジュール別でのSQLファイルが得られます。

【バックアップ（モジュール単位）】
上記バックアップと同等の機能ですが、モジュール毎のテーブルについてZIP圧縮ファイル形式でダウンロードします。
ダウンロードファイルを解凍すると一つのSQLファイルが得られます。

【ダンプ】
XOOPSのデータベースから復元用のSQLを生成し、テキストファイルとして表示（またはダウンロード）します。
上記のバックアップ機能と似ていますが、非圧縮であり、モジュール毎でもありません。
バックアップ処理とほぼ似ていますが、タイムアウト等は起こり難いと思われます。

【エクスポート】
XOOPSデータベースの中のテーブルにつき、csv形式テキストでのダウンロードを行います。
一応(?)、MS-Excelでの読み込みを念頭に置き、フォーマットをあわせてあります。

【復元】
バックアップしたデータを用いてデータベースを元に戻す操作です。
実施する場合は、事前にこのモジュールをインストールしたディレクトリ、つまりXOOPS_ROOT_PATH/modules/myx_backup/sql/ にSQLファイルを転送しておいてください。（必ずASCIIモードで行うことを忘れずに）
ZIPファイルのままでは動作しません。必ず解凍し、必要なモジュール分を用いてください。
画面上のPREFIX入力欄は、バックアップ時のPREFIXを入力してください。

【注意事項】
・レストア用のSQLファイルはレストアの時にのみサーバに置き、実施後は直ちに削除してください。
・この説明における「XOOPSのデータベース」とは、XOOPSで使っているPrefixがついているテーブル群のことです。
・このモジュールの利用により生じた損害の補償等はできません。

【セキュリティ】
・一応、考えられるだけのことはしています。
・レストア手順としてSQLファイルをFTP転送としているのもセキュリティ面での配慮ですので、面倒だとか言わないでください。
・当モジュールは好きなディレクトリ名でアップロード＆インストール可能です。第三者がアクセスを試みたりしないように
　という意味でディレクトリ名を変更しておくと良いでしょう。

【その他】
・バックアップで生成するSQLはPHPMyAdminと互換です。レストアにおいてもPHPMyAdminのSQLが使えるはずです。
・動作確認を行ったXOOPSのバージョンは、2.0.13a JPと2.1αですが、他のバージョンでも動作すると思います。
・MySQLについては、バージョン4.1以降での動作は確認できていません。

【ライセンス】
・Creative Commons Attribution-NonCommercial-NoDerivs 2.1 Japan
　http://creativecommons.org/licenses/by-nc-nd/2.1/jp/
・モノがモノでもあるのでGPLとはしていませんが、機能の利用については、サイト内容にかかわらず、御自由にどうぞ。
・当モジュールに関して、作者から特別な連絡があった場合は、これに応じてください。（滅多に無いはずです）

http://xoops.taquino.net/

-----------------------------------------------------------------------------------------------------------------------

おまけ情報 〜 XOOPSサイトの引越

１）既存サイトにMyX_BackUpをインストール
２）既存XOOPSサイトから、XOOPS_ROOT_PATH以下のファイルをごそっとFTPでダウンロード
３）MyX_BackUpで既存サイト側のデータベースをバックアップ
４）新規XOOPSサイトをカラの状態で立ち上げ、動作を確認
５）新規XOOPSサイトにMyX_BackUpをインストール
６）MyX_BackUpを用いて、上記２でバックアップしたデータベースを復元
	６−１）ダウンロードしたファイルを解凍
	６−２）解凍しでできたファイルをMyX_BackUp下のsqlフォルダにアップロード
	６−３）MyX_BackUpの「復元」を起動
	６−４）旧サイト側のXOOPS_PREFIXを指定欄に記入し、実行
	６−５）sqlフォルダ下に転送したファイルを削除
７）２のファイル群を新規XOOPSサイトへ、mainfile.phpを除き、FTPでアップロード
