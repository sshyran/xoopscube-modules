<div class="adminnavi">
  <a href="./index.php"><{$smarty.const._MI_USER_NAME}></a>
  &raquo;&raquo; <a href="./index.php?action=GroupList"><{$smarty.const._AD_USER_LANG_GROUP_LIST}></a>
  &raquo;&raquo; <span class="adminnaviTitle"><{$smarty.const._AD_USER_LANG_GROUP_PROPERTY}></span>
</div>

<h3 class="admintitle"><{$smarty.const._AD_USER_LANG_GROUP_PROPERTY}> ( <{$group->getShow('name')}> )</h3>

<table class="outer">
  <tr>
    <th>&nbsp;</th>
    <th><{$smarty.const._AD_USER_LANG_GROUP_GID}></th>
    <th><{$smarty.const._AD_USER_LANG_GROUP_NAME}></th>
    <th><{$smarty.const._AD_USER_LANG_GROUP_DESC}></th>
    <th><{$smarty.const._AD_USER_LANG_GROUP_TYPE}></th>
    <th><{$smarty.const._AD_USER_LANG_GROUP_AMMO}></th>
    <th><{$smarty.const._AD_USER_LANG_CONTROL}></th>
  </tr>
  <tr class="odd">
    <td class="user_list_image"><img src="<{"icons/group.gif"|theme}>" alt="<{$smarty.const._AD_USER_LANG_GROUP}>" title="<{$smarty.const._AD_USER_LANG_GROUP}>" /></td>
    <td class="user_list_id"><{$group->getShow('groupid')}></td>
    <td class="user_list_title"><{$group->getShow('name')}></td>
    <td class="user_list_description"><{$group->getShow('description')}></td>
    <td class="user_list_type"><{$group->getShow('group_type')}></td>
    <td class="user_list_number"><{$group->getUserCount()|xoops_escape}></td>
    <td class="user_list_control">
      <a href="index.php?action=GroupEdit&amp;groupid=<{$group->getShow('groupid')}>"><img src="<{"icons/edit.gif"|theme}>" alt="<{$smarty.const._EDIT}>" title="<{$smarty.const._EDIT}>" /></a>
      <{if $group->get('groupid') > $smarty.const.XOOPS_GROUP_ANONYMOUS }>
        <a href="index.php?action=GroupDelete&amp;groupid=<{$group->getShow('groupid')}>"><img src="<{"icons/delete.gif"|theme}>" alt="<{$smarty.const._DELETE}>" title="<{$smarty.const._DELETE}>" /></a>
      <{/if}>
      <a href="index.php?action=GroupProperty&amp;groupid=<{$group->getShow('groupid')}>"><img src="<{"icons/view.gif"|theme}>" alt="<{$smarty.const._AD_USER_LANG_GROUP_PROPERTY}>" title="<{$smarty.const._AD_USER_LANG_GROUP_PROPERTY}>" /></a>
      <a href="index.php?action=GroupPerm&amp;groupid=<{$group->getShow('groupid')}>"><img src="<{"icons/permission.gif"|theme}>" alt="<{$smarty.const._AD_USER_LANG_GROUP_PERMISSION}>" title="<{$smarty.const._AD_USER_LANG_GROUP_PERMISSION}>" /></a>
      <a href="index.php?action=GroupMember&amp;groupid=<{$group->getShow('groupid')}>"><img src="<{"icons/group.gif"|theme}>" alt="<{$smarty.const._AD_USER_LANG_GROUP_ASSIGN}>" title="<{$smarty.const._AD_USER_LANG_GROUP_ASSIGN}>" /></a>
    </td>
  </tr>
</table>

<hr />
<h4 class="admintitle"><{$smarty.const._AD_USER_LANG_GROUP_ASSIN_MEMBERS}> ( <a href="index.php?action=UserSearch&amp;groups[<{$group->getShow('groupid')}>]=<{$group->getShow('groupid')}>"><{$smarty.const._MI_USER_ADMENU_USER_SEARCH}></a> )</h4>
<div>
<form action="./index.php" method="get">
  <input type="hidden" name="action" value="GroupProperty" />
  <input type="hidden" name="groupid" value="<{$group->getShow('groupid')}>" />
  <{$smarty.const._VIEW}> : 
  <select name="perpage">
    <option value="<{$smarty.const.XCUBE_PAGENAVI_DEFAULT_PERPAGE}>"><{$smarty.const._SELECT}></option>
    <{foreach item=page from=$pageArr}>
      <{if $pageNavi->mPerpage == $page && $page != 0}>
        <option value="<{$page}>" selected="selected"><{$page}></option>
      <{elseif $pageNavi->mPerpage == $page && $page == 0}>
        <option value="<{$page}>" selected="selected"><{$smarty.const._ALL}></option>
      <{elseif $pageNavi->mPerpage != $page && $page == 0}>
        <option value="<{$page}>"><{$smarty.const._ALL}></option>
      <{else}>
        <option value="<{$page}>"><{$page}></option>
      <{/if}>
    <{/foreach}>
  </select>
  <input class="formButton" type="submit" value="<{$smarty.const._SUBMIT}>" />
</form>
</div>
<table class="outer">
  <tr>
    <th>&nbsp;</th>
    <th><{$smarty.const._MD_USER_LANG_UID}></th>
    <th><{$smarty.const._MD_USER_LANG_UNAME}></th>
    <th><{$smarty.const._MD_USER_LANG_NAME}></th>
    <th><{$smarty.const._AD_USER_LANG_REGDATE}></th>
    <th><{$smarty.const._AD_USER_LANG_LASTLOGIN}></th>
    <th><{$smarty.const._MD_USER_LANG_POSTS}></th>
    <th><{$smarty.const._MD_USER_LANG_LEVEL}></th>
    <th><{$smarty.const._AD_USER_LANG_CONTROL}></th>
  </tr>
  <{foreach from=$users item=user }>
    <tr class="<{cycle values="odd,even"}>">
      <td class="user_list_image"><img src="<{"icons/user.gif"|theme}>" alt="<{$smarty.const._AD_USER_LANG_USER}>" title="<{$smarty.const._AD_USER_LANG_USER}>" /></td>
      <td class="user_list_id"><{$user->getShow('uid')}></td>
      <td class="user_list_title"><a href="<{$xoops_url}>/userinfo.php?uid=<{$user->getShow('uid')}>"><{$user->getShow('uname')}></a></td>
      <td class="user_list_name"><{$user->getShow('name')}></td>
      <td class="user_list_date"><{$user->getShow('user_regdate')|xoops_formattimestamp}></td>
      <td class="user_list_date"><{$user->getShow('last_login')|xoops_formattimestamp:l}></td>
      <td class="user_list_number"><{$user->getShow('posts')}></td>
      <td class="user_list_order"><{$user->getShow('level')}></td>
      <td class="user_list_control">
        <a href="./index.php?action=UserEdit&amp;uid=<{$user->getShow('uid')}>"><img src="<{"icons/edit.gif"|theme}>" alt="<{$smarty.const._EDIT}>" title="<{$smarty.const._EDIT}>" /></a> 
        <{if $user->get('uid') != 1 }>
          <a href="index.php?action=UserDelete&amp;uid=<{$user->getShow('uid')}>"><img src="<{"icons/delete.gif"|theme}>" alt="<{$smarty.const._DELETE}>" title="<{$smarty.const._DELETE}>" /></a>
        <{/if}>
      </td>
    </tr>
  <{/foreach}>
</table>

<div class="pagenavi"><{xoops_pagenavi pagenavi=$pageNavi}></div>

<hr />

<h4 class="admintitle"><{$smarty.const._AD_USER_LANG_PERM_ACCESS_ADMIN}></h4>

<div class="containerInfo">
  	
<h5 class="admintitle"><span><{$smarty.const._AD_USER_LANG_PERM_MODULE_ACCESS}></span></h5>

<div>

<{if $systemPermissions }>

<table class="outer">
  <tr class="head">
    <th colspan="4"><{$smarty.const._AD_USER_LANG_PERM_SYSTEM_PERM_MODULE}></th>
  </tr>
  <tr>
  <{foreach item=perm from=$systemPermissions key="perm_key" name="SysPer"}>
    <td class="head" style="width:35%;">&nbsp;<{$perm->mItem->getName()|xoops_escape}></td>
    <td class="even"><{assign var="getId" value=$perm->getId() }>
      <{if $perm->mValue==2}>
        <{$smarty.const._AD_USER_LANG_PERM_ADMIN}>
      <{else}>
        --
      <{/if}>
    </td>
      <{if $smarty.foreach.SysPer.last}>
        </tr>
      <{else}>
        <{cycle values=",</tr><tr>" name="SysPer"}>
      <{/if}>
  <{/foreach}>
</table>

<br />
<{/if}>

<table class="outer">
  <tr>
    <th colspan="4"><{$smarty.const._AD_USER_LANG_PERM_GROUP_PERM_MODULE}></th>
  </tr>
  <tr>
  <{foreach item=perm from=$modulePermissions name="ModPer"}>
    <td class="head" style="width:25%;">&nbsp;<{$perm->mItem->getName()|xoops_escape}></td>
    <td class="even">
      <{assign var="getId" value=$perm->getId() }>
      <{if $perm->mValue & 1}>
        <{$smarty.const._AD_USER_LANG_PERM_ACCESS}>
      <{else}>
        --
      <{/if}>
      <{if $perm->mValue & 2}>
        <{$smarty.const._AD_USER_LANG_PERM_ADMIN}>
      <{else}>
        --
      <{/if}>
    </td>
     <{if $smarty.foreach.ModPer.last}>
        </tr>
      <{else}>
        <{cycle values=",</tr><tr>" name="ModPer"}>
      <{/if}>
  <{/foreach}>
</table>
</div>


<br />
<h5 class="admintitle"><span><{$smarty.const._AD_USER_LANG_PERM_BLOCK_ACCESS}></span></h5>
<div>
<{foreach key=i item=permissions from=$blockPermissions}>
<table class="outer">
  <tr>
    <th colspan="4"><{$smarty.const._AD_USER_LANG_PERM_GROUP_PERM_BLOCK}>
      <{if $i == 0}>( <{$smarty.const._LEFT}> )
      <{elseif $i == 1}>( <{$smarty.const._RIGHT}> )
      <{elseif $i == 4}>( <{$smarty.const._CENTER}> )
      <{elseif $i == 2}>( <{$smarty.const._CENTER}>-<{$smarty.const._LEFT}> )
      <{elseif $i == 3}>( <{$smarty.const._CENTER}>-<{$smarty.const._RIGHT}> )
      <{/if}></th>
  </tr>
  <tr>
  <{foreach item=perm from=$permissions name=$i}>
    <td class="head" style="width:35%;">&nbsp;
      <{if $perm->mItem->isActive()}>
          <{if $perm->mItem->mBlock->get('block_type') == 'C'}>
            <a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=CustomBlockEdit&amp;bid=<{$perm->mItem->mBlock->getShow('bid')}>"><{$perm->mItem->getName()|xoops_escape}></a>
          <{else}>
            <a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=BlockEdit&amp;bid=<{$perm->mItem->mBlock->getShow('bid')}>"><{$perm->mItem->getName()|xoops_escape}></a>
          <{/if}>
      <{else}>
        <span class="inactive"><{$perm->mItem->getName()|xoops_escape}></span>
      <{/if}>
    </td>
    <td class="even"><{assign var="getId" value=$perm->getId() }>
      <{if $perm->mValue==1}>
        <{$smarty.const._AD_USER_LANG_PERM_ACCESS}>
      <{else}>
      --
      <{/if}>
    </td>
      <{cycle values=",</tr><tr>" name=$i}>
  <{/foreach}>
  </tr>
</table>
<br />
<{/foreach}>
 </div>
 </div>