<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html language="en">
<head>
<title>Event Guide module Help</title>
<style>
.outer { background-color: #808080; }
td,th { padding: 4px; background: #e8e8e8;}
.head th  { padding: 4px; background: #d0d0d0; }
.bnf { color: #008000; }
</style>
</head>
<body>
<style>
.note { font-size: 90%; color: #800000; padding: 0.5em;}
</style>
  <h1>Event Guide module</h1>
  <ul>
  <li><a href="#summary">Summary</a></li>
  <li><a href="#roleplay">Using Steps</a></li>
  <li><a href="#functions">Functions</a></li>
  <li><a href="#config">Event Configuration</a></li>
  <li><a href="#form">Formats of Additional fields</a></li>
  <li><a href="#changes">Changes</a></li>
  </ul>

  <hr>

  <a name="summary"></a><h2>Summary</h2>

  The module Event Guide will display event guidance
  and reservations for the event.
  <br>
The modules features the following functions:
<ul>
  <li>Event reservations</li>
  <li>Configurable reservation forms - register id by email address</li>
  <li>Display event automatically in time - change display and allow reservations</li>
  <li>Adminster reservations and get data in CSV format</li>
  <li>Mail persons who have made reservations</li>
  <li>New event notification to registered users</li>
</ul>

  <a name="roleplay"></a><h2>Using Steps</h2>

  <ol>
    <li>Install this module</li>
      <div class="note">
      XOOPS at [Admin Menu - System - Modules Admin]
      to install "event guide" module.<br />
      module setup for event guide if you want.
      [Admin Menu - Event Guide - module setup]
      </div>
    <li>Register New event</li>
      <div class="note">
      Write event guide document and register it.
      The reservation form can be changed afterwards.
      </div>
    <li>Event reservations</li>
      <div class="note">
      Reservation list and Adminstrators can login with  user permissions via the "Adminstration" link.
      </div>
  </ol>


  <a name="functions"></a><h2>Functions</h2>

  <h3>Event Registration and Display</h3>

    <ol>
      <li>Show Summary Listed</li>
      <li>Blocks (Date and Title list)</li>
      <li>Show all (with reservation form)</li>
      <div class='note'>
      When user with Admin permission or event poster - will display administration links.
      </div>
    </ol>

  <h3>Event Edit</h3>

    <ol>
      <li>New Event Registration - allow admin or setup group</li>
      <li>Reservations</li>
	<ul>
	  <li>Approve reservation request</li>
	  <li>Summary display</li>
	    <ul>
	       <li>counting items in radio, check, select field</li>
	       <li>Display reservation list (for Display, for Print)</li>
      <div class="note">
      Reservations need approval (auto approve disabled), Here to approve.
      <br />
      All Reservation information to display and Edit, Delete action
      to be chosen from item "more" link.
      NOTE: Be careful to be match form field when you edit information.
      </div>
	       <li>get data in CSV format</li>
	    </ul>
	  <li>Sending Mail to reservation persons</li>
	</ul>
    </ol>

  <h3>Admin functions</h3>

    <ol>
      <li><a href="#config">Event Configuration</a></li>
      <li>Event actions</li>
      <li>Notify new event registered users</li>
    </ol>

  <a name="config"></a><h2>Event Configuration</h2>

  Event Guide module setup items as follow:
  
  <blockquote>
    <table class="outer">
      <tr><th>Item</th><th>value</th><th>description</th></tr>
      <tr class="even">
	<td class="head">Group allowed to post Events</td>
	<td>Group (<u>Register Users</u>)</td>
	<td>Set a group with permissions to publish and manage its own events</td>
      </tr>
      <tr class="odd">
	<td class="head">Notify site Administrators</td>
	<td>No/<u>Yes</u>/Always</td>
	<td>A notification by email is sent to admin when a  Event is registered or updated.
	  <br>
	  No = No notifcation.
	  <br>
	  Yes = Notify except user action.
	  <br>
	  Always = Notify with user action.	</td>
      </tr>
      <tr class="even">
	<td  class="head">Admin Group for Notification</td>
	<td><u>Yes</u>/No</td>
	<td>The admin group to send an email notification</td>
      </tr>
      <tr class="odd">
	<td class="head">Do you need to approve New Event</td>
	<td>Yes/<u>No</u></td>
	<td>Need to approve New Event by site administrator</td>
      </tr>
      <tr class="even">
	<td class="head">Display additional items in list</td>
	<td>field counts (<u>3</u>)</td>
	<td>Display items entry order additional form</td>
      </tr>
      <tr class="odd">
	<td class="head">Display list items in a page</td>
	<td>line counts (<u>50</u>)</td>
	<td>How many item lines in a page</td>
      </tr>
      <tr class="even">
	<td class="head">Display events in top page</td>
	<td>Event counts (<u>10</u>)</td>
	<td>Number of listed events in top page</td>
      </tr>
      <tr class="odd">
	<td class="head">Show Multiple Entry</td>
	<td><u>Yes</u>/No</td>
	<td>When event has multiple entry, show each entris. YES - display each entries. NO - Only show recenet entry.</td>
      </tr>
      <tr class="even">
	<td class="head">User requested notification of new event</td>
	<td><u>Yes</u>/No</td>
	<td>YES - Enable notification mail, NO - disable.</td>
      </tr>
      <tr class="odd">
	<td class="head">Event entry need to LOGIN</td>
	<td>Yes/<u>No</u></td>
	<td>Only login user can be reservation event. (Not use email address)</td>
      </tr>
      <tr class="even">
	<td class="head">Has confirm page</td>
	<td><u>Yes</u>/No</td>
	<td>Display a confirmation page when reservation is submitted</td>
      </tr>
      <tr class="odd">
	<td class="head">Additional item options</td>
	<td>(none)</td>
	<td>Additional item optional settings.
	  <ul>
	    <li>label_persons=label (label for multiple person reservation)</li>
	    <li>reply_extension=label (label for reply mail template extension)</li>
	    <dt>size=60 (text input default size)</dt>
	    <li>cols=40 (textarea default columns)</li>
	    <li>rows=5 (textarea default rows)</li>
	  </ul>
	  See "<a href="#form_options">Additional item options</a>" more details.
	  
	</td>
      </tr>
      <tr class="even">
	<td class="head">Close Time Before (min)</td>
	<td><u>60</u></td>
	<td>Event entry close time before setting minutes.</td>
      </tr>
      <tr class="odd">
	<td class="head">Expire Time</td>
	<td><u>1440</u> (was 1day, 24 hours)</td>
	<td>Event expired on top page when after event start time in minutes.</td>
      </tr>
      <tr class="even">
	<td class="head">Persons default value</td>
	<td><u>10</u></td>
	<td>Reservation persons in event post form</td>
      </tr>
      <tr class="odd">
	<td class="head">Date Format</td>
	<td><u>D, d M Y</u></td>
	<td>Open Event Date(Time) display format. Using PHP date function format.</td>
      </tr>
      <tr class="even">
	<td class="head">Use Other moudle plugins</td>
	<td>Yes/<u>No</u></td>
	<td>Internal Control accept entry form other modules</td>
      </tr>
      <tr class="odd">
	<td class="head">Current entry level mark</td>
	<td>0,[Close]<br/>50,[Empty]<br/>100,[Many]<br/>101,[Full]<br/></td>
	<td>The mark mean of how many entry in current. Show mark correspond parcentage. (xx,yy mean less than xx% showup yy. And '0,yy' mean out of date mark)</td>
      </tr>
      <tr class="even">
	<td class="head">Time Table Labels</td>
	<td>(none)</td>
	<td>Set starting time in Settings collection page. e.g.: 08:00,14:00,16:00</td>
      </tr>
      <tr class="odd">
	<td class="head">Item List in export reservations</td>
	<td><u>*</u></td>
	<td>Item `name' or `number' seperated comma(,). Asterisk(*) mean left items. e.g.: 3,4,0,2,*</td>
      </tr>
      <tr class="even">
	<td class="head">Allow Comments</td>
	<td><u>Yes</u>/No</td>
	<td>Allow Comments for event<p>Following settings of standard comment function in XOOPS</p></td>
      </tr>

    </table>
  </blockquote>

  <a name="form_options"></a><h3>Additional item options</h3>
  <dl>
    <dt>label_persons (label for multiple person reservation)</dt>
    <dd>This option setting for a reservation accept multiple persons.
      Set item name(label) to input how many.
      <p class="note">For example setting as
	"<tt>label_persons=Persons</tt>". In additional item like as
	"Persons,select,1,2,3,4" that make to recommand numeric choice field.
      </p>
      Only value setting in this config, Assume set for this "label_persons=" option.
      This is compatible before eguide 2.5.
    </dd>
    <dt>reply_extension (label for reply mail template extension)</dt>
    <dd>
      This option using for switch reply mail tamplate.
      

      <div class="note">This option setting item name(label) for template file name extension.
	<p>For example, setting in preferences "<tt>reply_extension=OrderForm</tt>", In Additional Items include like "OrderForm,hidden,A" field. This event reservation switch reply mail template file.</p>
	<p>In this case(the value as "A") using template file name assume <tt>language/&lt;lang&gt;/mail_template/{accept|order}<b>A</b>.tpl</tt> and using it.</p>
	<p>Additional value for file name, that is store value in reservation. In international using, recommand the value make alpha-numeric only. Because sometime there is encoding problem.<br/>If there is no mail template in additional name, using default mail template.</p>
      </div>
    </dd>
    <dt>size (text input default size)</dt>
    <dd>Default value as size=60</dd>
    <dt>cols, rows (textarea default columns/rows)</dt>
    <dd>Default value as cols=40, rows=5</dd>
  </dl>

  <a name="form"></a><h2>Additional fields Format</h2>
  <strong>In Reservation</strong>
  Additonal items set to FORM when used order to make reservation.
  These additional items are setup with the following formats:
  <blockquote>
      line ::= ["!"]item-name["*"][,type[,argument...]]<p />
      type ::= {text|checkbox|radio|textarea|select|hidden|const}<br />
      argument ::= [value ["+"] "="] label
  </blockquote>
  <ul>
    <li>"!" means the item is displayed to the public.</li>
       <div class="note">
       Additionally, form top of line marked "!"  - reservation list is displayed.
       If there is no "!" marked items, the list is not displayed.
       </div>
    <li>"*" means you need input something.</li>
    <li>"#" is a message in the FORM (displayed comments).</li>
    <li>"," is a delimiter. Include part of strings, using escape in "\".</li>
    <li>value equivalent label when it suppressed.</li>
    <li>"+" Selected items (checkbox, radio, select) default value.</li>
    <li>Other arguments to be default value in text items(text, textarea).</li>
    <li>A part of argument makes attribute in inputs (text: "size=n", textarea: "cols=n" "rows=n").</li>
    <li>Using "prop=string" argument, makes any attributes in input.</li>
  </ul>

  <h3>examples:</h3>

  <form>
    <table border="0" cellspacing="1" cellpadding="4" bgcolor="#808080">
      <tr bgcolor="#d0d0d0"><th>setup</th><th>Displayed form</th></tr>
      <tr class="even"><td>Name*</td><td>Name* <input name='samp1' /></td></tr>
      <tr class="odd"><td>Name*,size=5</td><td>Name* <input name='samp2' size=5 /></td></tr>
      <tr class="even"><td>Name*,size=10,value,#comment text</td><td>Name* <input name='samp3' size='10' value='value'/> comment text</td></tr>
      <tr class="odd"><td>Selection,radio,Item1+,Item2,Item3</td><td>Selection <input type='radio' name='samp4' value='1' checked /> Item1 &nbsp; <input type='radio' name='samp4' value='2' /> Item2 &nbsp; <input type='radio' name='samp4' value='3' /> Item3 &nbsp; </td></tr>
      <tr class="even"><td>Selection,checkbox,Item1+,Item2,Item3</td><td>Selection <input type='checkbox' name='samp5_1' checked /> Item1 &nbsp; <input type='checkbox' name='samp5_2' /> Item2 &nbsp; <input type='checkbox' name='samp5_3' /> Item3 &nbsp; </td></tr>
      <tr class="odd"><td>Selection,select,Item1,Item2,Item3</td><td>Selection <select name='samp6'><option>Item1</option><option>Item2</option><option>Item3</option></select></td></tr>
      <tr class="even"><td>Label,const,value</td><td>Label value (The value display and handle to input value)</td></tr>
      <tr class="odd"><td>Label,hidden,value</td><td><em>(not display in form - present only input values)</em></td></tr>
      <tr class="even"><td>#message text</td><td>message text</td></tr>
    </table>
  </form>
  <h3>Related reservation forms</h3>
  <dl>
    <dt>Mulitiple persons reservation</dt>
    <dd>
      You want handle multiple persons reservation on a event,
      you need the following settings:
      <ul>
	<li>Number of persons input field in "Additional items" (example: "<tt>Persons,select,1,2,3,4,5</tt>")</li>
	<li>Module Preferences "Label of persons" setting the fields label. (set in exmaple "<tt>Persons</tt>")</li>
      </ul>
    </dd>
    <dt>Redirect After Reservation URL</dt>
    <dd>
      This is use when custom page display after reservation. That URL include following variables:
      <tt>{X_EID}</tt> (event id), <tt>{X_SUB}</tt> (event extra id), <tt>{X_RVID}</tt> (reservation id).
      This variables use handle to get event information.
      You can use for post processing reservations.
    </dd>
  </dl>

  <a name="multidate"></a><h2>Handling for multiple open event</h2>

  <p>Event Guide handle the content of same event, open two or more times.
    Set "Repeat Open" in event registration form.
  </p>

  <p>If you need to setup more details, click "Preview" one time.
    This will expand and allow you to add and extra details.  </p>

<p>In addition, the event is registered once for detailed
    specification and set it on "Edit Open Date" page.  </p>

<h3>Note to multiple open event editing</h3>

  <ul>
    <li>When edit mutiple open event,  be careful  changing the master event date.
      The open date keeps interval to each other.</li>
    <li>Wen time is omitted by the date specification,
      it's specified a same time of  starting date.</li>
</ul>

  <a name="update"></a><h2>Module Update</h2>
  
  <ul>
    <li>You can update module from Module Manager in admin panel.</li>
    <li>Format convertion of Reservation Data</li>
    <div class="note">In eguide 2.31 and later, the internal data format has changed.
      If you need to import past reservation data,
      there is a data format convertion program <a href="../../admin/conv230.php">admin/conv230.php</a>. That page show a convertion button if there is need
      to data.    </div>
  </ul>

<a name="duplication"></a>
<h2>Module Duplication</h2>

  <p>Module Eguide 2.4 and later  is duplicatable (sorry not yet D3).
    <br>
    There is command line utility proguram to duplicate the module.
    <br>
    "eguide/duplicate.php" allow you to easily duplicate Eguide module how many you want.
    <br>
    (This command supports only Unix-like systems)  </p>
<p>Example use this:</p>
  <pre>
    $ <u>cd modules/eguide</u>
    $ <u>php duplicate.php event ticket class</u>
    Duplicate: event
    Duplicate: ticket
    Duplicate: class
  </pre>

  <a name="changes"></a><h2>Changes</h2>

<dl>
  <dt>2008/07/22 eguide 2.5 released</dt>
  <dd>
    <ul>
      <li>Add item options "reply_extension" as switch reply mail template</li>
      <li>Apply "Additional item options" in defaults</li>
      <li>Change preferences "Label of persons" to "Additional item options"</li>
      <li>Not display category select button if there is no categires</li>
      <li>Add no data language resources for admin page</li>
      <li>Fix using template set mistake.</li>
    </ul>
  </dd>
  <dt>2008/02/16 eguide 2.42 released</dt>
  <dd>
    <ul>
      <li>fix checkbox failer</li>
      <li>Add addtional field input helper (JavaScript)</li>
      <li>Fix admin menu link</li>
    </ul>
  </dd>
  <dt>2008/02/11 eguide 2.41 released</dt>
  <dd>
    <ul>
      <li>Fix conflict with pico module</li>
    </ul>
  </dd>
  <dt>2008/02/05 eguide 2.4 released</dt>
  <dd>
    <ul>
      <li>Categories enhancement (two level, sort order, importer, block)</li>
      <li>Fix JavaScript check failer</li>
      <li>Enable confirm page in default</li>
      <li>Add duplicatable function</li>
      <li>Fix excel template (remove hard code kanji)</li>
      <li>Using newer altsys (0.5later) function</li>
      <li>Arrangement of language resource (Separation main/common)</li>
      <li>add resource language/spanish (thx Gerardo)</li>
    </ul>
  </dd>
  <dt>2007/12/31 eguide 2.31 released</dt>
  <dd>
    <ul>
      <li>text field quote(') handle bug fixed</li>
      <li>add const type</li>
      <li>variables handle in redirect URL</li>
      <li>multiple category selecting in index.php (e.g. cat=1,2,3)</li>
      <li>fix JavaScript mistake (thx souhalt)</li>
      <li>fix rendering mistake when occurrence errors (thx souhalt)</li>
      <li>Ignore mail sending status except reservation user</li>
      <li>Using altsys module when exists</li>
      <li>Internal Reservation data format changes (refactoring)</li>
      <li>Fix extra date editing failer when after start time (thx Jens)</li>
      <li>add breadcrumbs (xoops_breadcrumbs) smarty variable setting</li>
    </ul>
  </dd>
  <dt>2007/03/03 eguide 2.3 released</dt>
  <dd>
    <ul>
      <li>Add setting notifiy to action user self.</li>
      <li>Add update notification to admin with poster</li>
      <li>fix stop admin mail when disable setting in preference</li>
      <li>fix notification mail for register users</li>
      <li>eguide 2.24 released</li>
      <li>fix compat in PHP5/MySQL5 (mylist.php failer, etc)</li>
      <li>fix complex value-label behavier item in checkbox/radio</li>
      <li>update tchinese resources (thanks jax)</li>
      <li>suppress space(nbsp) when setting value at additional items typed checkbox/radio</li>
    </ul>
  </dd>
  <dt>2006/10/14 eguide 2.23 released</dt>
  <dd>
    <ul>
      <li>fix month name index typo in japanese/german/tchinese</li>
    </ul>
  </dd>
  <dt>2006/10/14 eguide 2.21 released</dt>
  <dd>
    <ul>
      <li>fix some language resources</li>
      <li>add language/tchinese resources (by jimmy9522 at twpug.net)</li>
      <li>fix poster uname mistake when summary CSV output</li>
    </ul>
  </dd>
  <dt>2006/08/29 eguide 2.2 released</dt>
  <dd>
    <ul>
      <li>make display simple uname CSV format output</li>
      <li>add category filter in blocks</li>
      <li>add filling mark in block when show details</li>
      <li>new event block shows next event in multiple</li>
      <li>fix template: not display _MD_RESERV_FORM (as "Reservation Here") when reservation disable</li>
      <li>add language/german resources (from Jens Havelberg)</li>
    </ul>
  </dd>
  <dt>2006/08/17 eguide 2.1 released</dt>
  <dd>
    <ul>
      <li>add redirect url setting after reservation</li>
      <li>revised escape in additional items and extent "prop" attribute (from Craig Taylor)</li>
      <li>fix template: not display close time when reservation disable</li>
    </ul>
  </dd>
  <dd>2006/08/13 eguide 2.01 released</dd>
  <dd>
    <ul>
      <li>fix mistake resources</li>
      <li>fix cancel failer when login user do cancel</li>
    </ul>
  </dd>
  <dt>2006/08/03 eguide 2.0 released</dt>
  <p/>
  <dt><a href="changes.html">Changes before 2.0</a></dt>
</dl>

<hr>
<address>Nobuhiro Yasutomi &lt;<a href="mailto:nobuhiro.yasutomi@nifty.ne.jp">nobuhiro.yasutomi@nifty.ne.jp</a>&gt;</address>
MySite Users <a href="http://mysite.ddo.jp/">http://mysite.ddo.jp/</a><br/>
$Id: help.html,v 1.45 2008-07-22 15:09:44 nobu Exp $
</body>
</html>
