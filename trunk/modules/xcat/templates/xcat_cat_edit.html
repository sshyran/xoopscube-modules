<{if $actionForm->hasError()}>
  <div class="error">
    <ul>
      <{foreach item=message from=$actionForm->getErrorMessages()}>
        <li><{$message|xoops_escape}></li>
      <{/foreach}>
    </ul>
  </div>
<{/if}>
<form action="index.php?action=CatEdit" method="post">
  <{xoops_token form=$actionForm}>
  <{xoops_input type=hidden name=cat_id value=$actionForm->get('cat_id')}>
  <{xoops_input type=hidden name=gr_id value=$actionForm->get('gr_id')}>
  <{xoops_input type=hidden name=count1 value=$actionForm->get('count1')}>
  <{xoops_input type=hidden name=count2 value=$actionForm->get('count2')}>
  <table class="outer">
    <tr>
    <{if $actionForm->get('cat_id')}>
      <th colspan="2"><{$smarty.const._MD_XCAT_LANG_CAT_EDIT}></th>
  <{else}>
      <th colspan="2"><{$smarty.const._MD_XCAT_LANG_ADD_A_NEW_CAT}></th>
  <{/if}>
    </tr>
    <tr>
      <td class="head"><{$smarty.const._MD_XCAT_LANG_CAT_TITLE}></td>
      <td class="<{cycle values="odd,even"}>">
        <{xoops_input type=text name=cat_title value=$actionForm->get('cat_title') size=15 maxlength=255}>
      </td>
    </tr>
    <tr>
      <td class="head"><{$smarty.const._MD_XCAT_LANG_GR}></td>
      <td class="<{cycle values="odd,even"}>">
        <{$object->mGr->getShow('gr_title')}>
      </td>
    </tr>
    <tr>
      <td class="head"><{$smarty.const._MD_XCAT_LANG_P_ID}></td>
      <td class="<{cycle values="odd,even"}>">
      	<select name="p_id">
	      	<option value="0">TOP</option>
	      	<{foreach item=cat from=$catArr}>
		        <option value="<{$cat->get('cat_id')}>" <{if $cat->get('cat_id') == $actionForm->get('p_id')}> selected="selected"<{/if}>><{$cat->getShow('cat_title')}></option>
	        <{/foreach}>
        </select>
      </td>
    </tr>
    <tr>
      <td class="head"><{$smarty.const._MD_XCAT_LANG_IMAGEURL}></td>
      <td class="<{cycle values="odd,even"}>">
        <{xoops_input type=text name=imageurl value=$actionForm->get('imageurl') size=30 maxlength=255}>
      </td>
    </tr>
    <tr>
      <td class="head"><{$smarty.const._MD_XCAT_LANG_MODULES}></td>
      <td class="<{cycle values="odd,even"}>">
        <{xoops_input type=text name=modules value=$actionForm->get('modules') size=30 maxlength=255}><br />
        <{$smarty.const._MD_XCAT_MESSAGE_MODULES}><br />
        <{$smarty.const._MD_XCAT_MESSAGE_MODULES_SUCCESSOR}>
      </td>
    </tr>
    <tr>
      <td class="head"><{$smarty.const._MD_XCAT_LANG_CAT_DESC}></td>
      <td class="<{cycle values="odd,even"}>">
        <{xoops_dhtmltarea type=text name=cat_desc value=$actionForm->get('cat_desc')}>
      </td>
    </tr>
    <tr>
      <td class="head"><{$smarty.const._MD_XCAT_LANG_WEIGHT}></td>
      <td class="<{cycle values="odd,even"}>">
        <{xoops_input type=text name=weight value=$actionForm->get('weight')}>
      </td>
    </tr>
    <tr>
      <td class="foot" colspan="2">
        <input type="submit" class="formButton" value="<{$smarty.const._SUBMIT}>"/>
        <input type="submit" class="formButton" value="<{$smarty.const._MD_XCAT_LANG_CANCEL}>" name="_form_control_cancel"/>
      </td>
    </tr>
  </table>
</form>
